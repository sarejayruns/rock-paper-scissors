<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script>
            let losePBR = "You lost the round! Paper beats Rock";
            let winPBR = "You win the round! Paper beats Rock";
            let winRBS = "You win the round! Rock beats Scissors";
            let loseRBS = "You lost! Rock beats Scissors";
            let winSBP = "You win the round! Scissors beats Paper";
            let loseSBP = "You lost the round! Scissors beats Paper";
            let tie = "It's a Tie!"; 
            let playerScore = 0;
            let computerScore = 0;

            //function playerPlay() {
                //console.log(value);
                //let input = document.getElementById("btnR").value;
                //return input;
            //}

            function computerPlay() {
                let min = 1;
                let max = 4;
                let random = Math.floor(Math.random() * (+max - +min)) + +min;
                if (random == 1) {
                    return "Rock";
                }
                else if (random ==2) {
                    return "Paper";
                }
                else {
                    return "Scissors";
                }
                
            }
            
            let input;
            function playRound () {
                let playerSelection = input;        
                let computerSelection = computerPlay();
                if (playerSelection == "rock") {
                    switch(playerSelection == "rock"){
                        case (computerSelection == "Paper"):
                        alert (losePBR);
                        computerScore++;
                        break;
                        case (computerSelection == "Scissors"):
                        alert (winRBS)
                        playerScore++;
                        break;
                        default:
                        alert(tie);
                    }
                }
                else if (playerSelection == "paper"){
                    switch(playerSelection == "paper"){
                        case (computerSelection == "Rock"):
                        alert (winPBR);
                        playerScore++;
                        break;
                        case (computerSelection == "Scissors"):
                        alert (loseSBP);
                        computerScore++;
                        break;
                        default:
                        alert(tie);
                    }
                }
                else if (playerSelection == "scissors"){
                    switch(playerSelection == "scissors"){
                        case (computerSelection == "Rock"):
                        alert(loseRBS);
                        computerScore++;
                        break;
                        case (computerSelection == "Paper"):
                        alert(winSBP);
                        playerScore++;
                        break;
                        default:
                        alert(tie);
                    }
                }
                if (playerScore == 5) {
                    alert("You win the game!");
                    computerScore = 0;
                    playerScore = 0;
                }
                else if (computerScore == 5) {
                    alert("You lost the game!");
                    computerScore = 0;
                    playerScore = 0;
                }
            }

            function runScore() {
                document.getElementById("scorePara").innerHTML =  "Your score is " + (playerScore) + "/5. The computer's score is " + (computerScore)+"/5.";
            };
 
            const btnR = document.createElement("button");
            const btnP = document.createElement("button");
            const btnS = document.createElement("button");
            btnR.id = "btnR";
            btnR.innerHTML = "Rock";
            btnR.setAttribute ("value", "rock");
            btnP.id = "btnP";
            btnP.innerHTML = "Paper";
            btnP.setAttribute ("value", "paper");
            btnS.id = "btnS";
            btnS.innerHTML = "Scissors";
            btnS.setAttribute ("value", "scissors");
            document.body.appendChild(btnR);
            document.body.appendChild(btnP);
            document.body.appendChild(btnS);

            document.getElementById("btnR").addEventListener("click", function() {
                input = document.getElementById("btnR").value;
                return input;
            });
            document.getElementById("btnR").addEventListener("click", playRound);
            document.getElementById("btnR").addEventListener("click", runScore);

            document.getElementById("btnP").addEventListener("click", function() {
                input = document.getElementById("btnP").value;
                return input;
            });
            document.getElementById("btnP").addEventListener("click", playRound);
            document.getElementById("btnP").addEventListener("click", runScore);

            document.getElementById("btnS").addEventListener("click", function() {
                input = document.getElementById("btnS").value;
                return input;
            });
            document.getElementById("btnS").addEventListener("click", playRound);
            document.getElementById("btnS").addEventListener("click", runScore);

            const resultsDiv = document.createElement("div");
            resultsDiv.id = "results";
            document.body.appendChild(resultsDiv);

            const scoreHead = document.createElement("h1");
            const headText = document.createTextNode("Score");
            const scorePara = document.createElement("p");
            scorePara.id = "scorePara";
            scoreHead.appendChild(headText);
            resultsDiv.appendChild(scoreHead);
            resultsDiv.appendChild(scorePara);

            document.getElementById("scorePara").innerHTML =  "Your score is " + (playerScore) + "/5. The computer's score is " + (computerScore)+"/5.";

        </script>
    </body>
</html>