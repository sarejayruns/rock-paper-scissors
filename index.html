<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script>
            let losePBR = "You lost the round! Paper beats Rock";
            let winPBR = "You win the round! Paper beats Rock";
            let winRBS = "You win the round! Rock beats Scissors";
            let loseRBS = "You lost! Rock beats Scissors";
            let winSBP = "You win the round! Scissors beats Paper";
            let loseSBP = "You lost the round! Scissors beats Paper";
            let tie = "It's a Tie!"; 
            let playerScore = 0;
            let computerScore = 0;

            function playerPlay() {
                let input = document.getElementById("btnR").value;
                return input;
            }

            function computerPlay() {
                let min = 1;
                let max = 4;
                let random = Math.floor(Math.random() * (+max - +min)) + +min;
                if (random == 1) {
                    return "Rock";
                }
                else if (random ==2) {
                    return "Paper";
                }
                else {
                    return "Scissors";
                }
                
            }

            function playRound () {
                let playerSelection = playerPlay();        
                let computerSelection = computerPlay();
                if (playerSelection == "rock") {
                    switch(playerSelection == "rock"){
                        case (computerSelection == "Paper"):
                        alert (losePBR);
                        computerScore++;
                        break;
                        case (computerSelection == "Scissors"):
                        alert (winRBS)
                        playerScore++;
                        break;
                        default:
                        alert(tie);
                    }
                }
                else if (playerSelection == "paper"){
                    switch(playerSelection == "paper"){
                        case (computerSelection == "Rock"):
                        alert (winPBR);
                        playerScore++;
                        break;
                        case (computerSelection == "Scissors"):
                        alert (loseSBP);
                        computerScore++;
                        break;
                        default:
                        alert(tie);
                    }
                }
                else if (playerSelection == "scissors"){
                    switch(playerSelection == "scissors"){
                        case (computerSelection == "Rock"):
                        alert(loseRBS);
                        computerScore++;
                        break;
                        case (computerSelection == "Paper"):
                        alert(winSBP);
                        playerScore++;
                        break;
                        default:
                        alert(tie);
                    }
                }
                if (playerScore == 5) {
                    alert("You win the game!");
                    computerScore = 0;
                    playerScore = 0;
                }
                else if (computerScore == 5) {
                    alert("You lost the game!");
                    computerScore = 0;
                    playerScore = 0;
                }
            }

/*            function game() {
                let i;
//                let playerScore = 0; TAKEN TO PLAYROUND
//                let computerScore = 0; TAKEN TO PLAYEROUND
                let result = [playerScore, computerScore];

                for (i=0; i<5; i++) {
                    let thisRound = playRound();
                    if ((thisRound == winPBR) || (thisRound == winSBP) || (thisRound == winRBS)) {
                       playerScore++;
                    }
                    else if ((thisRound == losePBR) || (thisRound == loseSBP) || (thisRound == loseRBS)) {
                        computerScore++;
                        }
                    return playerScore;
                    console.log ("Your score is")
                    console.log(playerScore);
                    console.log ("The computer's score is")
                    console.log (computerScore);
                }
            */             
/*                if (playerScore > computerScore) {
                    result = "You win the whole game!"
                }
                else if (playerScore < computerScore) {
                    result = "You lose the whole game!"
                }
                else {
                    result = "It's a tie!"
                } */
//                return result;
//            }


 //           console.log (game())      CANNOT USE GAME - BREAKS CODE AND RUNS BEFORE LOADING
                                        // NEED TO MODIFY PLAYROUND

            function runScore() {
                document.getElementById("scorePara").innerHTML =  "Your score is " + (playerScore) + "/5. The computer's score is " + (computerScore)+"/5.";
            };
 
            const btnR = document.createElement("button");
            const btnP = document.createElement("button");
            const btnS = document.createElement("button");
            btnR.id = "btnR";
            btnR.innerHTML = "Rock";
            btnR.setAttribute ("value", "rock");
            btnP.id = "btnP";
            btnP.innerHTML = "Paper";
            btnP.setAttribute ("value", "paper");
            btnS.id = "btnS";
            btnS.innerHTML = "Scissors";
            btnS.setAttribute ("value", "scissors");
            document.body.appendChild(btnR);
            document.body.appendChild(btnP);
            document.body.appendChild(btnS);

            document.getElementById("btnR").addEventListener("click", playRound);
            document.getElementById("btnR").addEventListener("click", runScore);
            document.getElementById("btnP").addEventListener("click", playRound);
            document.getElementById("btnP").addEventListener("click", runScore);
            document.getElementById("btnS").addEventListener("click", playRound);
            document.getElementById("btnS").addEventListener("click", runScore);

            const resultsDiv = document.createElement("div");
            resultsDiv.id = "results";
            document.body.appendChild(resultsDiv);

            const scoreHead = document.createElement("h1");
            const headText = document.createTextNode("Score");
            const scorePara = document.createElement("p");
            scorePara.id = "scorePara";
            scoreHead.appendChild(headText);
            resultsDiv.appendChild(scoreHead);
            resultsDiv.appendChild(scorePara);

            document.getElementById("scorePara").innerHTML =  "Your score is " + (playerScore) + "/5. The computer's score is " + (computerScore)+"/5.";

        </script>
    </body>
</html>